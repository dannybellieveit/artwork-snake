some issues, the file name doesnt appear, the file i'm testing is a .wav and there's no option to stream it, there's still ugly white boxes. maybe take away the home button. I have big design plans but not until the basics are there.

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Danny Casio File Share</title>
  <base href="/" />
  <link rel="stylesheet" href="style.css">
  <style>
/* ---- page look ------------------------------------------------ */
:root { --blue:#0070f3; }
body  { margin:0; background:#87CEEB;
        font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
        color:#000; }

/* top header bar */
header { position:relative; padding:1rem 1rem 0; text-align:center; }
.back-btn { position:absolute; left:1rem; top:1rem; text-decoration:none; color:#000; font-size:1rem; }
header h1 { margin:0; font-size:clamp(1.6rem,4vw,2.4rem); }

/* file list */
#drop-content   { max-width:900px; margin:3rem auto 2rem; display:grid; gap:2rem; padding:0 1rem; }
.file-item      { background:#fff; padding:1.5rem 2rem; border-radius:14px;
                  box-shadow:0 4px 10px rgba(0,0,0,.05); }
.file-item h2   { margin:0 0 .75rem; font-size:1.25rem; word-break:break-all; }
.file-item audio{ width:100%; margin:.5rem 0 1rem; }

.download       { display:inline-block; background:var(--blue); color:#fff; text-decoration:none;
                  padding:.55rem 1.25rem; border-radius:8px; font-weight:600; }
.download:hover { background:#005bb5; }

/* phone spacing */
@media (max-width:600px){ #drop-content{ gap:1.25rem; } }

  </style>
</head>
<body>
  <nav class="top-links">
    <a href="https://dannycasio.com" class="home-link">Home</a>
  </nav>
<main id="drop-content" class="portal">
  <!-- JS will fill this -->
</main>

<script>
(async () => {
  /* 1. grab token from ?token= or /drop/<token> */
  const qs  = new URLSearchParams(location.search);
  let token = qs.get('token') || (location.pathname.match(/^\/drop\/([^/]+)$/)||[])[1];
  const box = document.getElementById('drop-content');
  if (!token){ box.textContent='No share token provided.'; return; }

  /* 2. fetch XML from the Worker */
  let xmlText = '';
  try{
    const res = await fetch(`/list-proxy/${token}`);
    if (!res.ok) throw new Error(res.status);
    xmlText = await res.text();
  }catch(err){
    box.textContent='Error loading files.'; console.error(err); return;
  }

  /* 3. parse every <response>, skip the root "webdav" folder */
  const xml = new DOMParser().parseFromString(xmlText,'application/xml');
  const responses = [...xml.getElementsByTagName('*')]
                    .filter(n => n.localName === 'response')
                    .filter(r => {
                       const href = r.querySelector('href')?.textContent || '';
                       return !href.endsWith('/webdav/') && !href.endsWith('/'); // skip root
                     });

  if (!responses.length){ box.textContent='No files found.'; return; }
  box.innerHTML='';

  /* 4. render cards */
  responses.forEach(r=>{
    const href = r.querySelector('href').textContent;
    const name = decodeURIComponent(href.split('/').filter(Boolean).pop());

    /* public-share direct download URL */
    const fileURL = `https://transfer.dannycasio.com/s/${token}/download?path=/${encodeURIComponent(name)}`;

    const card   = document.createElement('div');
    card.className = 'file-item';

    /* filename */
    const h2 = document.createElement('h2');
    h2.textContent = name;
    card.appendChild(h2);

    /* audio preview */
    if (/\.(wav|mp3|ogg)$/i.test(name)){
      const audio = document.createElement('audio');
      audio.controls = true;
      audio.src = fileURL;
      card.appendChild(audio);
    }

    /* download button */
    const dl = document.createElement('a');
    dl.className = 'download';
    dl.href      = fileURL;
    dl.textContent = 'Download';
    dl.setAttribute('download', name);
    card.appendChild(dl);

    box.appendChild(card);
  });
})();
</script>


</body>
</html>
